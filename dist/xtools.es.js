const e=(e,r)=>Array.isArray(e)?"object"==typeof r&&null!==r?e.some((e=>{try{return Object.keys(r).every((t=>e?.[t]===r[t]))}catch(e){return!1}})):e.includes(r):"object"==typeof e&&null!==e&&Object.keys(r).every((t=>e?.[t]===r[t])),r=["string","number","boolean","object","array","function","null","undefined","symbol","bigint","date","regexp","error","promise","set","map","weakset","weakmap","arraybuffer","dataview","typedarray","int8array","uint8array"],t=e=>Object.prototype.toString.call(e).replace(/^\[(\w+)\s(\w+)]$/,((e,r,t)=>t)).toLowerCase(),o=(o,n)=>{if(void 0!==n){if(!e(r,n))throw new Error("请传入正确的类型");return t(o)===n}return t(o)},n=(e,r)=>{if(void 0!==r)return t(e)!==r;throw new Error("参数错误")},s=(e,r="&")=>(e.includes(r)?e.split(r):[e]).map((e=>e.split("="))).reduce(((e,r)=>({...e,[r[0].trim()]:r[1]})),{}),i=(e,r="&")=>{if(n(e,"object"))throw new Error("参数错误");let t="";return Object.entries(e).forEach(((e,o)=>t+=`${o>0?r:""}${e[0]}=${e[1]}`)),t},a=(e,r,t)=>{if(o(e,"array")&&o(r,"object"))return e.filter((e=>Object.keys(r).every((t=>e[t]!==r[t]))));if(o(e,"array")&&o(r,"number")&&o(t,"number"))return e.slice(0,r).concat(t?e.slice(r+t):[]);if(o(e,"array")&&o(r,"array"))return e.filter((e=>!r.includes(e)));throw new Error("参数错误")},c=(e,r,t,n)=>[...e.slice(0,n?t:t+1),..."Array"===o(r)?r:[r],...e.slice(n?t:t+1)],u=(e,r)=>{if(r){const r=o(e,"object")?{}:[];return Object.keys(e).forEach((t=>{e[t]&&(o(e[t],"object")||o(e[t],"array"))?(r[t]=o(e[t],"object")?{}:[],r[t]=u(e[t],"deep")):r[t]=e[t]})),r}return Object.assign(e)},l={checkType:o,downloadBlob:(e,r,t)=>{const o=document.createElement("a"),n=new Blob([e],{type:t});o.download=r,o.href=URL.createObjectURL(n),o.click()},has:e,isNotType:n,getCookie:e=>{if(!e)return document.cookie;return s(document.cookie,";")[e]},setCookie:(e,r,t={})=>{const o=i(t,";");document.cookie=`${e}=${encodeURIComponent(r)};${o}`},setStorage:(e,r,t={})=>{if(t.mode&&"session"!==t.mode&&"local"!==t.mode)throw new Error('无效的存储模式，请选择 "session" 或 "local"');try{const n={data:JSON.stringify(r),expires:o(t.expires,"number")&&t.expires>0?Date.now()+1e3*t.expires:null,mode:t.mode||"local"};("session"===t.mode?sessionStorage:localStorage).setItem(e,JSON.stringify(n))}catch(e){throw console.error("存储失败:",e),e}},getStorage:(e,r)=>{try{const t="session"===r?sessionStorage:localStorage,o=t.getItem(e);if(!o)return;const n=JSON.parse(o);return n.expires&&n.expires<=(new Date).getTime()?void t.removeItem(e):JSON.parse(n.data)}catch(e){return void console.error("解析失败：",e)}},isEmpty:e=>o(e,"null")||o(e,"undefined")||""===e,isChinese:e=>/\p{Unified_Ideograph}/u.test(e),isEmail:e=>/\w+@\w+\.[A-z]/.test(e),isPhoneNum:e=>/^1\d{10}$/.test(e),listDeduplicate:(e,r,t)=>{if(o(r,"undefined"))return Array.from(new Set(e));for(let o=0;o<e.length;o++)for(let n=o+1;n<e.length;n++)e[o][r]===e[n][r]&&(e=a(e,t?o:n,1),n--);return e},listRemove:a,listGroup:(e,r)=>{if(n(e,"array")||o(r,"undefined"))throw new Error("参数错误");return e.reduce(((e,t)=>{const o=e;return(o[t[r]]=o[t[r]]||[]).push(t),o}),{})},listInsert:(e,r,t,n)=>{if(o(t,"object")){const o=e.findIndex((e=>Object.keys(t).every((r=>t[r]===e[r]))));if(o<0)throw new Error("未找到对应元素");return c(e,r,o,n?1:0)}return o(t,"number")?c(e,r,t,1):o(t,"undefined")?e.concat(r):null},objectCopy:u,objectMerge:(e,r)=>{if(n(e,"array"))throw new Error("参数错误");return e.reduce(((e,t)=>r?{...t,...e}:{...e,...t}))},objectToQuery:i,queryToObject:s,sort:(e,r,t)=>t&&"order"===r?e.sort(((e,r)=>e[t]-r[t])):r&&e.every((e=>o(e,"object")))?e.sort(((e,t)=>t[r]-e[r])):"order"===r?e.sort(((e,r)=>e-r)):e.sort(((e,r)=>r-e)),toArray:e=>Array.prototype.slice.call(e),toDate:(e,r)=>{const t=new Date(e||new Date),o={yyyy:t.getFullYear(),M:t.getMonth()+1,MM:t.getMonth()+1<10?`0${t.getMonth()+1}`:t.getMonth()+1,D:t.getDate(),DD:t.getDate()<10?`0${t.getDate()}`:t.getDate(),h:t.getHours()%12,hh:t.getHours()%12<10?"0"+t.getHours()%12:t.getHours()%12,H:t.getHours(),HH:t.getHours()<10?`0${t.getHours()}`:t.getHours(),m:t.getMinutes(),mm:t.getMinutes()<10?`0${t.getMinutes()}`:t.getMinutes(),s:t.getSeconds(),ss:t.getSeconds()<10?`0${t.getSeconds()}`:t.getSeconds(),t:t.getHours()>12?"下午 ":"上午 "},n=/(y{0,4})(\W*)(M{0,2})(\W*)(D{0,2})(\W*)(H{0,2}h{0,2})(\W*)(m{0,2})(\W*)(s{0,2})/g;return r?r.replace(n,((e,r,t,n,s,i,a,c,u,l,d,y)=>`${o[r]||""}${t}${o[n]||""}${s}${o[i]||""}${a}${c.includes("h")?o.t:""}${o[c]||""}${u}${o[l]||""}${d}${o[y]||""}`)):`${o.yyyy}-${o.MM}-${o.DD} ${o.HH}:${o.mm}:${o.ss}`},toThousands:e=>{const r=String(e);return r.includes(".")?`${r.split(".")[0].replace(/(\d)(?=(\d{3})+$)/g,(e=>`${e},`))}.${r.split(".")[1]}`:r.replace(/(\d)(?=(\d{3})+$)/g,(e=>`${e},`))}};export{l as default};
